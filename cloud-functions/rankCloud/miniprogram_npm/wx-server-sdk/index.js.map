{"version":3,"sources":["index.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["(function(e, a) { for(var i in a) e[i] = a[i]; }(exports, /******/ (function(modules) { // webpackBootstrap\r\n/******/ \t// The module cache\r\n/******/ \tvar installedModules = {};\r\n/******/\r\n/******/ \t// The require function\r\n/******/ \tfunction __webpack_require__(moduleId) {\r\n/******/\r\n/******/ \t\t// Check if module is in cache\r\n/******/ \t\tif(installedModules[moduleId]) {\r\n/******/ \t\t\treturn installedModules[moduleId].exports;\r\n/******/ \t\t}\r\n/******/ \t\t// Create a new module (and put it into the cache)\r\n/******/ \t\tvar module = installedModules[moduleId] = {\r\n/******/ \t\t\ti: moduleId,\r\n/******/ \t\t\tl: false,\r\n/******/ \t\t\texports: {}\r\n/******/ \t\t};\r\n/******/\r\n/******/ \t\t// Execute the module function\r\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n/******/\r\n/******/ \t\t// Flag the module as loaded\r\n/******/ \t\tmodule.l = true;\r\n/******/\r\n/******/ \t\t// Return the exports of the module\r\n/******/ \t\treturn module.exports;\r\n/******/ \t}\r\n/******/\r\n/******/\r\n/******/ \t// expose the modules object (__webpack_modules__)\r\n/******/ \t__webpack_require__.m = modules;\r\n/******/\r\n/******/ \t// expose the module cache\r\n/******/ \t__webpack_require__.c = installedModules;\r\n/******/\r\n/******/ \t// define getter function for harmony exports\r\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\r\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\r\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\r\n/******/ \t\t}\r\n/******/ \t};\r\n/******/\r\n/******/ \t// define __esModule on exports\r\n/******/ \t__webpack_require__.r = function(exports) {\r\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\r\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\r\n/******/ \t\t}\r\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\r\n/******/ \t};\r\n/******/\r\n/******/ \t// create a fake namespace object\r\n/******/ \t// mode & 1: value is a module id, require it\r\n/******/ \t// mode & 2: merge all properties of value into the ns\r\n/******/ \t// mode & 4: return value when already ns object\r\n/******/ \t// mode & 8|1: behave like require\r\n/******/ \t__webpack_require__.t = function(value, mode) {\r\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\r\n/******/ \t\tif(mode & 8) return value;\r\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\r\n/******/ \t\tvar ns = Object.create(null);\r\n/******/ \t\t__webpack_require__.r(ns);\r\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\r\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\r\n/******/ \t\treturn ns;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\r\n/******/ \t__webpack_require__.n = function(module) {\r\n/******/ \t\tvar getter = module && module.__esModule ?\r\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\r\n/******/ \t\t\tfunction getModuleExports() { return module; };\r\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\r\n/******/ \t\treturn getter;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// Object.prototype.hasOwnProperty.call\r\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\r\n/******/\r\n/******/ \t// __webpack_public_path__\r\n/******/ \t__webpack_require__.p = \"\";\r\n/******/\r\n/******/\r\n/******/ \t// Load entry module and return exports\r\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./src/index.ts\");\r\n/******/ })\r\n/************************************************************************/\r\n/******/ ({\r\n\r\n/***/ \"./src/api/cloud/index.ts\":\r\n/*!********************************!*\\\r\n  !*** ./src/api/cloud/index.ts ***!\r\n  \\********************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(/*! tslib */ \"tslib\");\r\nvar provider_1 = __webpack_require__(/*! ./provider */ \"./src/api/cloud/provider/index.ts\");\r\nvar error_1 = __webpack_require__(/*! utils/error */ \"./src/utils/error.ts\");\r\nvar type_1 = __webpack_require__(/*! utils/type */ \"./src/utils/type.ts\");\r\nvar Cloud = /** @class */ (function () {\r\n    function Cloud() {\r\n        this.inited = false;\r\n        this.services = {};\r\n        this.exportAPI = {\r\n            init: this.init.bind(this)\r\n        };\r\n        this.meta = {\r\n            session_id: (+new Date).toString()\r\n        };\r\n        this.defaultConfig = {};\r\n        this.provider = provider_1.default();\r\n    }\r\n    Cloud.prototype.getMetaData = function () {\r\n        return this.meta;\r\n    };\r\n    Cloud.prototype.getDefaultConfig = function () {\r\n        return this.defaultConfig;\r\n    };\r\n    Cloud.prototype.getOverriddenConfig = function (config, service) {\r\n        var overriden = tslib_1.__assign({}, this.defaultConfig);\r\n        Object.assign(overriden, config);\r\n        if (service) {\r\n            var env = this.getEnvForService(overriden, service);\r\n            overriden.env = env;\r\n        }\r\n        return overriden;\r\n    };\r\n    Cloud.prototype.getEnvForService = function (config, service) {\r\n        if (!config.env)\r\n            return;\r\n        switch (type_1.getType(config.env)) {\r\n            case 'string': {\r\n                return config.env;\r\n            }\r\n            case 'object': {\r\n                return config.env[service];\r\n            }\r\n            default: {\r\n                return;\r\n            }\r\n        }\r\n    };\r\n    Cloud.prototype.init = function (config) {\r\n        if (config === void 0) { config = {}; }\r\n        if (this.inited)\r\n            return;\r\n        this.inited = true;\r\n        this.provider.init(config);\r\n        this.defaultConfig = config;\r\n    };\r\n    Cloud.prototype.registerService = function (service) {\r\n        this.services[service.name] = service;\r\n        var functions = service.getAPIs();\r\n        for (var name in functions) {\r\n            this.registerFunction(name, functions[name]);\r\n        }\r\n    };\r\n    Cloud.prototype.registerFunction = function (name, func) {\r\n        var instance = this;\r\n        this.exportAPI[name] = function () {\r\n            if (!instance.inited) {\r\n                throw new error_1.CloudSDKError({\r\n                    errMsg: 'Cloud API isn\\'t enabled, please call init first\\n' +\r\n                        '请先调用 init 完成初始化后再调用其他云 API。init 方法可传入一个对象用于设置默认配置，详见文档。'\r\n                });\r\n            }\r\n            return func.apply(this, arguments);\r\n        };\r\n    };\r\n    return Cloud;\r\n}());\r\nexports.Cloud = Cloud;\r\nvar cloud = new Cloud();\r\nexports.default = cloud;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/cloud/provider/index.ts\":\r\n/*!*****************************************!*\\\r\n  !*** ./src/api/cloud/provider/index.ts ***!\r\n  \\*****************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tcb_1 = __webpack_require__(/*! ./tcb */ \"./src/api/cloud/provider/tcb/index.ts\");\r\nvar PROVIDER;\r\n(function (PROVIDER) {\r\n    PROVIDER[PROVIDER[\"TCB\"] = 0] = \"TCB\";\r\n})(PROVIDER = exports.PROVIDER || (exports.PROVIDER = {}));\r\nfunction getProvider(provider) {\r\n    if (provider === void 0) { provider = PROVIDER.TCB; }\r\n    switch (provider) {\r\n        default: {\r\n            return tcb_1.default;\r\n        }\r\n    }\r\n}\r\nexports.default = getProvider;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/cloud/provider/tcb/api/callFunction.ts\":\r\n/*!********************************************************!*\\\r\n  !*** ./src/api/cloud/provider/tcb/api/callFunction.ts ***!\r\n  \\********************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(/*! tslib */ \"tslib\");\r\nvar tcb = __webpack_require__(/*! tcb-admin-node */ \"tcb-admin-node\");\r\nvar error_config_1 = __webpack_require__(/*! ../config/error.config */ \"./src/api/cloud/provider/tcb/config/error.config.ts\");\r\nvar sleep = function (ms) {\r\n    if (ms === void 0) { ms = 0; }\r\n    return new Promise(function (resolve) { return setTimeout(resolve, ms); });\r\n};\r\nfunction callFunction(options, config) {\r\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\r\n        var tcbInstance, res;\r\n        return tslib_1.__generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, sleep()\r\n                    /*\r\n                    const res = await tcbRequest({\r\n                      params: {\r\n                        action: 'functions.invokeFunction',\r\n                        function_name: options.name,\r\n                        request_data: options.dataStr,\r\n                      },\r\n                      // TODO\r\n                      timeout: 5 * 60 * 1000,\r\n                      config: mergeConfig(tcb.config, config),\r\n                      method: 'post',\r\n                      headers: {\r\n                        'content-type': 'application/json'\r\n                      }\r\n                    })\r\n                    */\r\n                ];\r\n                case 1:\r\n                    _a.sent();\r\n                    tcbInstance = tcb.config.envName === config.env ? tcb : tcb.init(config);\r\n                    return [4 /*yield*/, tcbInstance.callFunction({\r\n                            name: options.name,\r\n                            data: options.data,\r\n                        })];\r\n                case 2:\r\n                    res = _a.sent();\r\n                    if (res.code && error_config_1.TCB_ERR_CODE[res.code] !== 0) {\r\n                        throw {\r\n                            errCode: error_config_1.TCB_ERR_CODE[res.code] || error_config_1.TCB_ERR_CODE.SYS_ERR,\r\n                            errMsg: \"requestID \" + res.requestId + \", \" + res.message,\r\n                            requestId: res.requestId,\r\n                        };\r\n                    }\r\n                    else {\r\n                        return [2 /*return*/, {\r\n                                result: res.result,\r\n                                requestId: res.requestId,\r\n                            }];\r\n                    }\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\nexports.callFunction = callFunction;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/cloud/provider/tcb/api/callOpenAPI.ts\":\r\n/*!*******************************************************!*\\\r\n  !*** ./src/api/cloud/provider/tcb/api/callOpenAPI.ts ***!\r\n  \\*******************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(/*! tslib */ \"tslib\");\r\nvar tcb = __webpack_require__(/*! tcb-admin-node */ \"tcb-admin-node\");\r\nvar error_config_1 = __webpack_require__(/*! ../config/error.config */ \"./src/api/cloud/provider/tcb/config/error.config.ts\");\r\nvar sleep = function (ms) {\r\n    if (ms === void 0) { ms = 0; }\r\n    return new Promise(function (resolve) { return setTimeout(resolve, ms); });\r\n};\r\nfunction callOpenAPI(options, config) {\r\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\r\n        var res;\r\n        return tslib_1.__generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, sleep()\r\n                    // console.log('wx-server-sdk tcb.callWxOpenApi options: ', options)\r\n                ];\r\n                case 1:\r\n                    _a.sent();\r\n                    return [4 /*yield*/, tcb.callWxOpenApi({\r\n                            apiName: options.api,\r\n                            requestData: options.data,\r\n                            event: options.event,\r\n                        })\r\n                        // console.log('wx-server-sdk tcb.callWxOpenApi res: ', res)\r\n                    ];\r\n                case 2:\r\n                    res = _a.sent();\r\n                    // console.log('wx-server-sdk tcb.callWxOpenApi res: ', res)\r\n                    if (res.code && error_config_1.TCB_ERR_CODE[res.code] !== 0) {\r\n                        throw {\r\n                            errCode: error_config_1.TCB_ERR_CODE[res.code] || error_config_1.TCB_ERR_CODE.SYS_ERR,\r\n                            errMsg: res.message,\r\n                        };\r\n                    }\r\n                    else {\r\n                        return [2 /*return*/, {\r\n                                result: res.result,\r\n                            }];\r\n                    }\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\nexports.callOpenAPI = callOpenAPI;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/cloud/provider/tcb/api/database.ts\":\r\n/*!****************************************************!*\\\r\n  !*** ./src/api/cloud/provider/tcb/api/database.ts ***!\r\n  \\****************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(/*! tslib */ \"tslib\");\r\nvar tcb = __webpack_require__(/*! tcb-admin-node */ \"tcb-admin-node\");\r\nvar tcbRequest = __webpack_require__(/*! tcb-admin-node/src/utils/httpRequest */ \"tcb-admin-node/src/utils/httpRequest\");\r\nvar error_config_1 = __webpack_require__(/*! ../config/error.config */ \"./src/api/cloud/provider/tcb/config/error.config.ts\");\r\nvar sleep = function (ms) {\r\n    if (ms === void 0) { ms = 0; }\r\n    return new Promise(function (resolve) { return setTimeout(resolve, ms); });\r\n};\r\nvar mergeConfig = function (tcbConfig, config) {\r\n    var ret = tslib_1.__assign({}, tcbConfig);\r\n    if (config.env) {\r\n        ret.env = config.env;\r\n    }\r\n    return ret;\r\n};\r\nfunction addDocument(options, config) {\r\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\r\n        var res;\r\n        return tslib_1.__generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: \r\n                // 不得已而 sleep(0)，因为 tcb-admin-node 的 httpRequest 在返回 promise 之前竟然有逻辑可能抛错 !!!!!\r\n                return [4 /*yield*/, sleep()];\r\n                case 1:\r\n                    // 不得已而 sleep(0)，因为 tcb-admin-node 的 httpRequest 在返回 promise 之前竟然有逻辑可能抛错 !!!!!\r\n                    _a.sent();\r\n                    return [4 /*yield*/, tcbRequest({\r\n                            params: {\r\n                                action: 'database.addDocument',\r\n                                _id: options._id,\r\n                                collectionName: options.collectionName,\r\n                                data: options.data,\r\n                            },\r\n                            config: mergeConfig(tcb.config, config),\r\n                            method: 'post',\r\n                            headers: {\r\n                                'content-type': 'application/json'\r\n                            }\r\n                        })];\r\n                case 2:\r\n                    res = _a.sent();\r\n                    if (res.code && error_config_1.TCB_ERR_CODE[res.code] !== 0) {\r\n                        throw {\r\n                            errCode: error_config_1.TCB_ERR_CODE[res.code] || error_config_1.TCB_ERR_CODE.SYS_ERR,\r\n                            errMsg: res.message,\r\n                        };\r\n                    }\r\n                    else {\r\n                        return [2 /*return*/, {\r\n                                _id: res.data._id,\r\n                                requestId: res.requestId,\r\n                            }];\r\n                    }\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\nexports.addDocument = addDocument;\r\nfunction queryDocument(options, config) {\r\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\r\n        var res;\r\n        return tslib_1.__generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, sleep()];\r\n                case 1:\r\n                    _a.sent();\r\n                    return [4 /*yield*/, tcbRequest({\r\n                            params: tslib_1.__assign({}, options, { action: 'database.queryDocument', collectionName: options.collectionName }),\r\n                            config: mergeConfig(tcb.config, config),\r\n                            method: 'post',\r\n                            headers: {\r\n                                'content-type': 'application/json'\r\n                            }\r\n                        })];\r\n                case 2:\r\n                    res = _a.sent();\r\n                    if (res.code) {\r\n                        throw {\r\n                            errCode: error_config_1.TCB_ERR_CODE[res.code] || error_config_1.TCB_ERR_CODE.SYS_ERR,\r\n                            errMsg: res.message,\r\n                        };\r\n                    }\r\n                    else {\r\n                        return [2 /*return*/, {\r\n                                list: res.data.list || [],\r\n                                limit: res.Limit,\r\n                                offset: res.Offset,\r\n                                total: res.TotalCount,\r\n                                requestId: res.requestId,\r\n                            }];\r\n                    }\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\nexports.queryDocument = queryDocument;\r\nfunction updateDocument(options, config) {\r\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\r\n        var res;\r\n        return tslib_1.__generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, sleep()];\r\n                case 1:\r\n                    _a.sent();\r\n                    return [4 /*yield*/, tcbRequest({\r\n                            params: tslib_1.__assign({}, options, { action: 'database.updateDocument', collectionName: options.collectionName }),\r\n                            config: mergeConfig(tcb.config, config),\r\n                            method: 'post',\r\n                            headers: {\r\n                                'content-type': 'application/json'\r\n                            }\r\n                        })];\r\n                case 2:\r\n                    res = _a.sent();\r\n                    if (res.code) {\r\n                        throw {\r\n                            errCode: error_config_1.TCB_ERR_CODE[res.code] || error_config_1.TCB_ERR_CODE.SYS_ERR,\r\n                            errMsg: res.message,\r\n                        };\r\n                    }\r\n                    else {\r\n                        return [2 /*return*/, {\r\n                                updated: res.data.updated,\r\n                                upsertedId: res.data.upserted_id,\r\n                                requestId: res.requestId,\r\n                            }];\r\n                    }\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\nexports.updateDocument = updateDocument;\r\nfunction removeDocument(options, config) {\r\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\r\n        var res;\r\n        return tslib_1.__generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, sleep()];\r\n                case 1:\r\n                    _a.sent();\r\n                    return [4 /*yield*/, tcbRequest({\r\n                            params: tslib_1.__assign({}, options, { action: 'database.removeDocument', collectionName: options.collectionName }),\r\n                            config: mergeConfig(tcb.config, config),\r\n                            method: 'post',\r\n                            headers: {\r\n                                'content-type': 'application/json'\r\n                            }\r\n                        })];\r\n                case 2:\r\n                    res = _a.sent();\r\n                    if (res.code) {\r\n                        throw {\r\n                            errCode: error_config_1.TCB_ERR_CODE[res.code] || error_config_1.TCB_ERR_CODE.SYS_ERR,\r\n                            errMsg: res.message,\r\n                        };\r\n                    }\r\n                    else {\r\n                        return [2 /*return*/, {\r\n                                removed: res.deleted,\r\n                                requestId: res.requestId,\r\n                            }];\r\n                    }\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\nexports.removeDocument = removeDocument;\r\nfunction countDocument(options, config) {\r\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\r\n        var res;\r\n        return tslib_1.__generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, sleep()];\r\n                case 1:\r\n                    _a.sent();\r\n                    return [4 /*yield*/, tcbRequest({\r\n                            params: tslib_1.__assign({}, options, { action: 'database.countDocument', collectionName: options.collectionName }),\r\n                            config: mergeConfig(tcb.config, config),\r\n                            method: 'post',\r\n                            headers: {\r\n                                'content-type': 'application/json'\r\n                            }\r\n                        })];\r\n                case 2:\r\n                    res = _a.sent();\r\n                    if (res.code) {\r\n                        throw {\r\n                            errCode: error_config_1.TCB_ERR_CODE[res.code] || error_config_1.TCB_ERR_CODE.SYS_ERR,\r\n                            errMsg: res.message,\r\n                        };\r\n                    }\r\n                    else {\r\n                        return [2 /*return*/, {\r\n                                total: res.data.total,\r\n                                requestId: res.requestId,\r\n                            }];\r\n                    }\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\nexports.countDocument = countDocument;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/cloud/provider/tcb/api/deleteFile.ts\":\r\n/*!******************************************************!*\\\r\n  !*** ./src/api/cloud/provider/tcb/api/deleteFile.ts ***!\r\n  \\******************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(/*! tslib */ \"tslib\");\r\nvar tcb = __webpack_require__(/*! tcb-admin-node */ \"tcb-admin-node\");\r\nvar error_config_1 = __webpack_require__(/*! ../config/error.config */ \"./src/api/cloud/provider/tcb/config/error.config.ts\");\r\nvar error_config_2 = __webpack_require__(/*! ../../../../../config/error.config */ \"./src/config/error.config.ts\");\r\nvar sleep = function (ms) {\r\n    if (ms === void 0) { ms = 0; }\r\n    return new Promise(function (resolve) { return setTimeout(resolve, ms); });\r\n};\r\nfunction deleteFile(options, config) {\r\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\r\n        var tcbInstance, res, fileList;\r\n        return tslib_1.__generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, sleep()];\r\n                case 1:\r\n                    _a.sent();\r\n                    tcbInstance = tcb.config.envName === config.env ? tcb : tcb.init(config);\r\n                    return [4 /*yield*/, tcbInstance.deleteFile({\r\n                            fileList: options.fileList\r\n                        })];\r\n                case 2:\r\n                    res = _a.sent();\r\n                    if (res.code && error_config_1.TCB_ERR_CODE[res.code] !== 0) {\r\n                        throw {\r\n                            errCode: error_config_1.TCB_ERR_CODE[res.code] || error_config_1.TCB_ERR_CODE.SYS_ERR,\r\n                            errMsg: res.message,\r\n                        };\r\n                    }\r\n                    else {\r\n                        fileList = (res.fileList || []).filter(function (s) { return Boolean(s); }).map(function (f) {\r\n                            if (f.code && error_config_1.TCB_ERR_CODE[f.code] !== 0) {\r\n                                var code = error_config_1.TCB_ERR_CODE[f.code] || error_config_1.TCB_ERR_CODE.SYS_ERR;\r\n                                return {\r\n                                    fileID: f.fileID,\r\n                                    status: error_config_1.TCB_ERR_CODE[f.code] || error_config_1.TCB_ERR_CODE.SYS_ERR,\r\n                                    errMsg: error_config_2.ERR_CODE[code]\r\n                                };\r\n                            }\r\n                            return {\r\n                                fileID: f.fileID,\r\n                                status: 0,\r\n                                errMsg: 'ok',\r\n                            };\r\n                        });\r\n                        //@ts-ignore\r\n                        return [2 /*return*/, {\r\n                                fileList: fileList,\r\n                                requestId: res.requestId,\r\n                            }];\r\n                    }\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\nexports.deleteFile = deleteFile;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/cloud/provider/tcb/api/downloadFile.ts\":\r\n/*!********************************************************!*\\\r\n  !*** ./src/api/cloud/provider/tcb/api/downloadFile.ts ***!\r\n  \\********************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(/*! tslib */ \"tslib\");\r\nvar tcb = __webpack_require__(/*! tcb-admin-node */ \"tcb-admin-node\");\r\nvar error_config_1 = __webpack_require__(/*! ../config/error.config */ \"./src/api/cloud/provider/tcb/config/error.config.ts\");\r\nvar sleep = function (ms) {\r\n    if (ms === void 0) { ms = 0; }\r\n    return new Promise(function (resolve) { return setTimeout(resolve, ms); });\r\n};\r\nfunction downloadFile(options, config) {\r\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\r\n        var statusCode, tcbInstance, res;\r\n        return tslib_1.__generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, sleep()];\r\n                case 1:\r\n                    _a.sent();\r\n                    statusCode = 200;\r\n                    tcbInstance = tcb.config.envName === config.env ? tcb : tcb.init(config);\r\n                    return [4 /*yield*/, tcbInstance.downloadFile({\r\n                            fileID: options.fileID\r\n                        })];\r\n                case 2:\r\n                    res = _a.sent();\r\n                    if (res.code && error_config_1.TCB_ERR_CODE[res.code] !== 0) {\r\n                        throw {\r\n                            errCode: error_config_1.TCB_ERR_CODE[res.code] || error_config_1.TCB_ERR_CODE.SYS_ERR,\r\n                            errMsg: res.message,\r\n                        };\r\n                    }\r\n                    return [2 /*return*/, {\r\n                            statusCode: statusCode,\r\n                            fileContent: res.fileContent,\r\n                        }];\r\n            }\r\n        });\r\n    });\r\n}\r\nexports.downloadFile = downloadFile;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/cloud/provider/tcb/api/getTempFileURL.ts\":\r\n/*!**********************************************************!*\\\r\n  !*** ./src/api/cloud/provider/tcb/api/getTempFileURL.ts ***!\r\n  \\**********************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(/*! tslib */ \"tslib\");\r\nvar tcb = __webpack_require__(/*! tcb-admin-node */ \"tcb-admin-node\");\r\nvar error_config_1 = __webpack_require__(/*! ../config/error.config */ \"./src/api/cloud/provider/tcb/config/error.config.ts\");\r\nvar error_config_2 = __webpack_require__(/*! ../../../../../config/error.config */ \"./src/config/error.config.ts\");\r\nvar sleep = function (ms) {\r\n    if (ms === void 0) { ms = 0; }\r\n    return new Promise(function (resolve) { return setTimeout(resolve, ms); });\r\n};\r\nfunction getTempFileURL(options, config) {\r\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\r\n        var tcbInstance, res, fileList;\r\n        return tslib_1.__generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, sleep()];\r\n                case 1:\r\n                    _a.sent();\r\n                    tcbInstance = tcb.config.envName === config.env ? tcb : tcb.init(config);\r\n                    return [4 /*yield*/, tcbInstance.getTempFileURL({\r\n                            fileList: options.fileList,\r\n                        })];\r\n                case 2:\r\n                    res = _a.sent();\r\n                    if (res.code && error_config_1.TCB_ERR_CODE[res.code] !== 0) {\r\n                        throw {\r\n                            errCode: error_config_1.TCB_ERR_CODE[res.code] || error_config_1.TCB_ERR_CODE.SYS_ERR,\r\n                            errMsg: res.message,\r\n                        };\r\n                    }\r\n                    else {\r\n                        fileList = (res.fileList || []).filter(function (s) { return Boolean(s); }).map(function (f, i) {\r\n                            if (f.code && error_config_1.TCB_ERR_CODE[f.code] !== 0) {\r\n                                var code = error_config_1.TCB_ERR_CODE[f.code] || error_config_1.TCB_ERR_CODE.SYS_ERR;\r\n                                return {\r\n                                    fileID: f.fileID,\r\n                                    status: error_config_1.TCB_ERR_CODE[f.code] || error_config_1.TCB_ERR_CODE.SYS_ERR,\r\n                                    errMsg: error_config_2.ERR_CODE[code],\r\n                                    maxAge: f.maxAge,\r\n                                    tempFileURL: '',\r\n                                };\r\n                            }\r\n                            return {\r\n                                fileID: f.fileID,\r\n                                status: 0,\r\n                                errMsg: 'ok',\r\n                                maxAge: f.maxAge,\r\n                                tempFileURL: f.tempFileURL,\r\n                            };\r\n                        });\r\n                        return [2 /*return*/, {\r\n                                fileList: fileList,\r\n                                requestId: res.requestId,\r\n                            }];\r\n                    }\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\nexports.getTempFileURL = getTempFileURL;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/cloud/provider/tcb/api/uploadFile.ts\":\r\n/*!******************************************************!*\\\r\n  !*** ./src/api/cloud/provider/tcb/api/uploadFile.ts ***!\r\n  \\******************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(/*! tslib */ \"tslib\");\r\nvar tcb = __webpack_require__(/*! tcb-admin-node */ \"tcb-admin-node\");\r\nvar error_config_1 = __webpack_require__(/*! ../config/error.config */ \"./src/api/cloud/provider/tcb/config/error.config.ts\");\r\nvar sleep = function (ms) {\r\n    if (ms === void 0) { ms = 0; }\r\n    return new Promise(function (resolve) { return setTimeout(resolve, ms); });\r\n};\r\nfunction uploadFile(options, config) {\r\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\r\n        var statusCode, tcbInstance, res;\r\n        return tslib_1.__generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, sleep()];\r\n                case 1:\r\n                    _a.sent();\r\n                    statusCode = -1;\r\n                    tcbInstance = tcb.config.envName === config.env ? tcb : tcb.init(config);\r\n                    return [4 /*yield*/, tcbInstance.uploadFile({\r\n                            cloudPath: options.cloudPath,\r\n                            fileContent: options.fileContent,\r\n                        }, {\r\n                            onResponseReceived: function (resp) {\r\n                                statusCode = resp ? resp.statusCode : statusCode;\r\n                            }\r\n                        })];\r\n                case 2:\r\n                    res = _a.sent();\r\n                    if (res.code && error_config_1.TCB_ERR_CODE[res.code] !== 0) {\r\n                        throw {\r\n                            errCode: error_config_1.TCB_ERR_CODE[res.code] || error_config_1.TCB_ERR_CODE.SYS_ERR,\r\n                            errMsg: res.message,\r\n                        };\r\n                    }\r\n                    else {\r\n                        //@ts-ignore\r\n                        return [2 /*return*/, {\r\n                                fileID: res.fileID,\r\n                                requestId: res.requestId,\r\n                                statusCode: statusCode,\r\n                            }];\r\n                    }\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\nexports.uploadFile = uploadFile;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/cloud/provider/tcb/config/error.config.ts\":\r\n/*!***********************************************************!*\\\r\n  !*** ./src/api/cloud/provider/tcb/config/error.config.ts ***!\r\n  \\***********************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n// provider should also register the error codes in src/config/error.config.ts\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TCB_ERR_CODE = {\r\n    // 通用\r\n    SUCCESS: 0,\r\n    SYS_ERR: -501001,\r\n    SERVER_TIMEOUT: -501002,\r\n    EXCEED_REQUEST_LIMIT: -501003,\r\n    EXCEED_CONCURRENT_REQUEST_LIMIT: -501004,\r\n    INVALIID_ENV: -501005,\r\n    INVALID_COMMON_PARAM: -501006,\r\n    INVALID_PARAM: -501007,\r\n    INVALID_REQUEST_SOURCE: -501008,\r\n    RESOURCE_NOT_INITIAL: -501009,\r\n    // 数据库\r\n    DATABASE_REQUEST_FAILED: -502001,\r\n    DATABASE_INVALID_OPERRATOR: -502002,\r\n    DATABASE_PERMISSION_DENIED: -502003,\r\n    DATABASE_COLLECTION_EXCEED_LIMIT: -502004,\r\n    DATABASE_COLLECTION_NOT_EXIST: -502005,\r\n    // 文件\r\n    STORAGE_REQUEST_FAIL: -503001,\r\n    STORAGE_EXCEED_AUTHORITY: -503002,\r\n    STORAGE_FILE_NONEXIST: -503003,\r\n    STORAGE_SIGN_PARAM_INVALID: -503004,\r\n    // 云函数\r\n    FUNCTIONS_REQUEST_FAIL: -504001,\r\n    FUNCTIONS_EXECUTE_FAIL: -504002,\r\n};\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/cloud/provider/tcb/index.ts\":\r\n/*!*********************************************!*\\\r\n  !*** ./src/api/cloud/provider/tcb/index.ts ***!\r\n  \\*********************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(/*! tslib */ \"tslib\");\r\nvar tcb = __webpack_require__(/*! tcb-admin-node */ \"tcb-admin-node\");\r\nvar tcbRequest = __webpack_require__(/*! tcb-admin-node/src/utils/httpRequest */ \"tcb-admin-node/src/utils/httpRequest\");\r\nvar database_1 = __webpack_require__(/*! ./api/database */ \"./src/api/cloud/provider/tcb/api/database.ts\");\r\nvar callFunction_1 = __webpack_require__(/*! ./api/callFunction */ \"./src/api/cloud/provider/tcb/api/callFunction.ts\");\r\nvar downloadFile_1 = __webpack_require__(/*! ./api/downloadFile */ \"./src/api/cloud/provider/tcb/api/downloadFile.ts\");\r\nvar uploadFile_1 = __webpack_require__(/*! ./api/uploadFile */ \"./src/api/cloud/provider/tcb/api/uploadFile.ts\");\r\nvar deleteFile_1 = __webpack_require__(/*! ./api/deleteFile */ \"./src/api/cloud/provider/tcb/api/deleteFile.ts\");\r\nvar getTempFileURL_1 = __webpack_require__(/*! ./api/getTempFileURL */ \"./src/api/cloud/provider/tcb/api/getTempFileURL.ts\");\r\nvar callOpenAPI_1 = __webpack_require__(/*! ./api/callOpenAPI */ \"./src/api/cloud/provider/tcb/api/callOpenAPI.ts\");\r\nvar provider = {\r\n    // init\r\n    init: tcb.init.bind(tcb),\r\n    get config() {\r\n        return tcb.config;\r\n    },\r\n    // request\r\n    sendRequest: function (options) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\r\n            return tslib_1.__generator(this, function (_a) {\r\n                return [2 /*return*/, tcbRequest(tslib_1.__assign({ config: tcb.config, params: options.data }, options))];\r\n            });\r\n        });\r\n    },\r\n    // api\r\n    api: {\r\n        addDocument: database_1.addDocument,\r\n        queryDocument: database_1.queryDocument,\r\n        updateDocument: database_1.updateDocument,\r\n        removeDocument: database_1.removeDocument,\r\n        countDocument: database_1.countDocument,\r\n        callFunction: callFunction_1.callFunction,\r\n        downloadFile: downloadFile_1.downloadFile,\r\n        uploadFile: uploadFile_1.uploadFile,\r\n        deleteFile: deleteFile_1.deleteFile,\r\n        getTempFileURL: getTempFileURL_1.getTempFileURL,\r\n        callOpenAPI: callOpenAPI_1.callOpenAPI,\r\n    }\r\n};\r\nexports.default = provider;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/database/api/api.ts\":\r\n/*!*************************************!*\\\r\n  !*** ./src/api/database/api/api.ts ***!\r\n  \\*************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar database_1 = __webpack_require__(/*! ./database */ \"./src/api/database/api/database.ts\");\r\nfunction getAPIs() {\r\n    return {\r\n        database: database_1.default,\r\n    };\r\n}\r\nexports.getAPIs = getAPIs;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/database/api/database.ts\":\r\n/*!******************************************!*\\\r\n  !*** ./src/api/database/api/database.ts ***!\r\n  \\******************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(/*! tslib */ \"tslib\");\r\nvar tcb = __webpack_require__(/*! tcb-admin-node */ \"tcb-admin-node\");\r\nvar collection_1 = __webpack_require__(/*! ./database/collection */ \"./src/api/database/api/database/collection.ts\");\r\nvar assert_1 = __webpack_require__(/*! utils/assert */ \"./src/utils/assert.ts\");\r\nvar msg_1 = __webpack_require__(/*! utils/msg */ \"./src/utils/msg.ts\");\r\nvar error_1 = __webpack_require__(/*! utils/error */ \"./src/utils/error.ts\");\r\nvar error_checker_1 = __webpack_require__(/*! ./database/helper/error-checker */ \"./src/api/database/api/database/helper/error-checker.ts\");\r\nvar cloud_1 = __webpack_require__(/*! ../../cloud */ \"./src/api/cloud/index.ts\");\r\nvar __1 = __webpack_require__(/*! .. */ \"./src/api/database/index.ts\");\r\nfunction getDatabase(config) {\r\n    return new Database(config);\r\n}\r\nexports.default = getDatabase;\r\nvar Database = /** @class */ (function () {\r\n    function Database(config) {\r\n        if (config === void 0) { config = {}; }\r\n        var instance = this;\r\n        this.config = config;\r\n        if (config.env) {\r\n            assert_1.assertType(config.env, 'string');\r\n        }\r\n        var overridenConfig = cloud_1.default.getOverriddenConfig(config || {}, __1.DATABASE_SERVICE_NAME);\r\n        var tcbInstance = tcb.init(overridenConfig);\r\n        this._db = tcbInstance.database();\r\n        this.command = this._db.command;\r\n        this.Geo = this._db.Geo;\r\n        this.serverDate = this._db.serverDate;\r\n        this.RegExp = this._db.RegExp;\r\n    }\r\n    Database.prototype.collection = function (collectionName) {\r\n        return new collection_1.CollectionReference(this._db.collection(collectionName), collectionName, this);\r\n    };\r\n    Database.prototype.createCollection = function (collectionName) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\r\n            var apiName, result, e_1;\r\n            return tslib_1.__generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        apiName = 'createCollection';\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 4]);\r\n                        return [4 /*yield*/, this._db.createCollection(collectionName)];\r\n                    case 2:\r\n                        result = _a.sent();\r\n                        error_checker_1.checkError(result);\r\n                        return [2 /*return*/, {\r\n                                errMsg: msg_1.apiSuccessMsg(apiName),\r\n                                requestId: result.requestId,\r\n                            }];\r\n                    case 3:\r\n                        e_1 = _a.sent();\r\n                        return [2 /*return*/, error_1.returnAsFinalCloudSDKError(e_1, apiName)];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return Database;\r\n}());\r\nexports.Database = Database;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/database/api/database/collection.ts\":\r\n/*!*****************************************************!*\\\r\n  !*** ./src/api/database/api/database/collection.ts ***!\r\n  \\*****************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(/*! tslib */ \"tslib\");\r\nvar query_1 = __webpack_require__(/*! ./query */ \"./src/api/database/api/database/query.ts\");\r\nvar document_1 = __webpack_require__(/*! ./document */ \"./src/api/database/api/database/document.ts\");\r\nvar msg_1 = __webpack_require__(/*! utils/msg */ \"./src/utils/msg.ts\");\r\nvar error_1 = __webpack_require__(/*! utils/error */ \"./src/utils/error.ts\");\r\nvar assert_1 = __webpack_require__(/*! utils/assert */ \"./src/utils/assert.ts\");\r\nvar error_checker_1 = __webpack_require__(/*! ./helper/error-checker */ \"./src/api/database/api/database/helper/error-checker.ts\");\r\nvar CollectionReference = /** @class */ (function (_super) {\r\n    tslib_1.__extends(CollectionReference, _super);\r\n    function CollectionReference(_collection, collectionName, database) {\r\n        var _this = _super.call(this, _collection, collectionName, database) || this;\r\n        _this._collection = _collection;\r\n        _this.collectionName = collectionName;\r\n        _this.database = database;\r\n        return _this;\r\n    }\r\n    CollectionReference.prototype.doc = function (docId) {\r\n        return new document_1.DocumentReference(this._collection.doc(docId), this, docId, this.database);\r\n    };\r\n    CollectionReference.prototype.add = function (options) {\r\n        var _this = this;\r\n        var apiName = 'collection.add';\r\n        return new Promise(function (resolve, reject) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\r\n            var addResult, err_1;\r\n            return tslib_1.__generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 2, , 3]);\r\n                        assert_1.assertType(options, {\r\n                            data: 'object'\r\n                        });\r\n                        assert_1.assertObjectNotEmpty({\r\n                            name: 'options.data',\r\n                            target: options.data,\r\n                        });\r\n                        return [4 /*yield*/, this._collection.add(options.data)];\r\n                    case 1:\r\n                        addResult = _a.sent();\r\n                        error_checker_1.checkError(addResult);\r\n                        resolve({\r\n                            _id: addResult.id,\r\n                            errMsg: msg_1.apiSuccessMsg(apiName),\r\n                        });\r\n                        return [3 /*break*/, 3];\r\n                    case 2:\r\n                        err_1 = _a.sent();\r\n                        reject(error_1.returnAsFinalCloudSDKError(err_1, apiName));\r\n                        return [3 /*break*/, 3];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        }); });\r\n    };\r\n    return CollectionReference;\r\n}(query_1.Query));\r\nexports.CollectionReference = CollectionReference;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/database/api/database/document.ts\":\r\n/*!***************************************************!*\\\r\n  !*** ./src/api/database/api/database/document.ts ***!\r\n  \\***************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(/*! tslib */ \"tslib\");\r\nvar msg_1 = __webpack_require__(/*! utils/msg */ \"./src/utils/msg.ts\");\r\nvar error_1 = __webpack_require__(/*! utils/error */ \"./src/utils/error.ts\");\r\nvar assert_1 = __webpack_require__(/*! utils/assert */ \"./src/utils/assert.ts\");\r\nvar error_checker_1 = __webpack_require__(/*! ./helper/error-checker */ \"./src/api/database/api/database/helper/error-checker.ts\");\r\nvar GET_API_NAME = 'document.get';\r\nvar UPDATE_API_NAME = 'document.update';\r\nvar SET_API_NAME = 'document.set';\r\nvar REMOVE_API_NAME = 'document.remove';\r\nvar DocumentReference = /** @class */ (function () {\r\n    function DocumentReference(_document, collection, docId, database) {\r\n        this._document = _document;\r\n        this.collection = collection;\r\n        this.database = database;\r\n        this._id = docId;\r\n    }\r\n    DocumentReference.prototype.field = function (object) {\r\n        assert_1.assertRequiredParam(object, 'object', 'field');\r\n        assert_1.assertType(object, 'object', 'field');\r\n        return new DocumentReference(this._document.field(object), this.collection, this._id, this.database);\r\n    };\r\n    DocumentReference.prototype.get = function (options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\r\n            var _id, queryResult, err_1;\r\n            return tslib_1.__generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 2, , 3]);\r\n                        _id = this._id;\r\n                        return [4 /*yield*/, this._document.get()];\r\n                    case 1:\r\n                        queryResult = _a.sent();\r\n                        error_checker_1.checkError(queryResult);\r\n                        if (!queryResult.data || !queryResult.data.length) {\r\n                            throw \"document with _id \" + _id + \" does not exist\";\r\n                        }\r\n                        resolve({\r\n                            data: queryResult.data[0],\r\n                            errMsg: msg_1.apiSuccessMsg(GET_API_NAME),\r\n                        });\r\n                        return [3 /*break*/, 3];\r\n                    case 2:\r\n                        err_1 = _a.sent();\r\n                        reject(error_1.returnAsFinalCloudSDKError(err_1, GET_API_NAME));\r\n                        return [3 /*break*/, 3];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        }); });\r\n    };\r\n    DocumentReference.prototype.set = function (options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\r\n            var _id, setResult, err_2;\r\n            return tslib_1.__generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 2, , 3]);\r\n                        assert_1.assertType(options, {\r\n                            data: 'object',\r\n                        });\r\n                        assert_1.assertObjectNotEmpty({\r\n                            name: 'options.data',\r\n                            target: options.data,\r\n                        });\r\n                        _id = this._id;\r\n                        return [4 /*yield*/, this._document.set(options.data)];\r\n                    case 1:\r\n                        setResult = _a.sent();\r\n                        error_checker_1.checkError(setResult);\r\n                        resolve({\r\n                            _id: _id,\r\n                            errMsg: msg_1.apiSuccessMsg(SET_API_NAME),\r\n                            stats: {\r\n                                updated: setResult.updated,\r\n                                created: setResult.upsertedId ? 1 : 0,\r\n                            }\r\n                        });\r\n                        return [3 /*break*/, 3];\r\n                    case 2:\r\n                        err_2 = _a.sent();\r\n                        reject(error_1.returnAsFinalCloudSDKError(err_2, SET_API_NAME));\r\n                        return [3 /*break*/, 3];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        }); });\r\n    };\r\n    DocumentReference.prototype.update = function (options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\r\n            var updateResult, err_3;\r\n            return tslib_1.__generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 2, , 3]);\r\n                        assert_1.assertType(options, {\r\n                            data: 'object',\r\n                        });\r\n                        assert_1.assertObjectNotEmpty({\r\n                            name: 'options.data',\r\n                            target: options.data,\r\n                        });\r\n                        return [4 /*yield*/, this._document.update(options.data)];\r\n                    case 1:\r\n                        updateResult = _a.sent();\r\n                        error_checker_1.checkError(updateResult);\r\n                        resolve({\r\n                            stats: {\r\n                                updated: updateResult.updated,\r\n                            },\r\n                            errMsg: msg_1.apiSuccessMsg(UPDATE_API_NAME),\r\n                        });\r\n                        return [3 /*break*/, 3];\r\n                    case 2:\r\n                        err_3 = _a.sent();\r\n                        reject(error_1.returnAsFinalCloudSDKError(err_3, UPDATE_API_NAME));\r\n                        return [3 /*break*/, 3];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        }); });\r\n    };\r\n    DocumentReference.prototype.remove = function (options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\r\n            var removeResult, err_4;\r\n            return tslib_1.__generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 2, , 3]);\r\n                        return [4 /*yield*/, this._document.remove()];\r\n                    case 1:\r\n                        removeResult = _a.sent();\r\n                        error_checker_1.checkError(removeResult);\r\n                        resolve({\r\n                            stats: {\r\n                                removed: removeResult.deleted || 0,\r\n                            },\r\n                            errMsg: msg_1.apiSuccessMsg(REMOVE_API_NAME),\r\n                        });\r\n                        return [3 /*break*/, 3];\r\n                    case 2:\r\n                        err_4 = _a.sent();\r\n                        reject(error_1.returnAsFinalCloudSDKError(err_4, REMOVE_API_NAME));\r\n                        return [3 /*break*/, 3];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        }); });\r\n    };\r\n    return DocumentReference;\r\n}());\r\nexports.DocumentReference = DocumentReference;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/database/api/database/helper/error-checker.ts\":\r\n/*!***************************************************************!*\\\r\n  !*** ./src/api/database/api/database/helper/error-checker.ts ***!\r\n  \\***************************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar error_1 = __webpack_require__(/*! utils/error */ \"./src/utils/error.ts\");\r\nvar error_config_1 = __webpack_require__(/*! api/cloud/provider/tcb/config/error.config */ \"./src/api/cloud/provider/tcb/config/error.config.ts\");\r\nfunction checkError(tcbResult) {\r\n    if (tcbResult && tcbResult.code) {\r\n        throw error_1.returnAsCloudSDKError({\r\n            errCode: error_config_1.TCB_ERR_CODE[tcbResult.code] || error_config_1.TCB_ERR_CODE.SYS_ERR,\r\n            errMsg: tcbResult.message,\r\n        });\r\n    }\r\n}\r\nexports.checkError = checkError;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/database/api/database/query.ts\":\r\n/*!************************************************!*\\\r\n  !*** ./src/api/database/api/database/query.ts ***!\r\n  \\************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(/*! tslib */ \"tslib\");\r\nvar msg_1 = __webpack_require__(/*! utils/msg */ \"./src/utils/msg.ts\");\r\nvar assert_1 = __webpack_require__(/*! utils/assert */ \"./src/utils/assert.ts\");\r\nvar error_1 = __webpack_require__(/*! utils/error */ \"./src/utils/error.ts\");\r\nvar error_checker_1 = __webpack_require__(/*! ./helper/error-checker */ \"./src/api/database/api/database/helper/error-checker.ts\");\r\nvar ORDER_DIRECTION;\r\n(function (ORDER_DIRECTION) {\r\n    ORDER_DIRECTION[\"ASC\"] = \"asc\";\r\n    ORDER_DIRECTION[\"DESC\"] = \"desc\";\r\n})(ORDER_DIRECTION = exports.ORDER_DIRECTION || (exports.ORDER_DIRECTION = {}));\r\nvar Query = /** @class */ (function () {\r\n    function Query(_query, collectionName, database) {\r\n        this._query = _query;\r\n        this.collectionName = collectionName;\r\n        this.database = database;\r\n    }\r\n    Query.prototype.field = function (object) {\r\n        return new Query(this._query.field(object), this.collectionName, this.database);\r\n    };\r\n    Query.prototype.where = function (condition) {\r\n        return new Query(this._query.where(condition), this.collectionName, this.database);\r\n    };\r\n    Query.prototype.orderBy = function (fieldPath, order) {\r\n        return new Query(this._query.orderBy(fieldPath, order), this.collectionName, this.database);\r\n    };\r\n    Query.prototype.limit = function (max) {\r\n        return new Query(this._query.limit(max), this.collectionName, this.database);\r\n    };\r\n    Query.prototype.skip = function (offset) {\r\n        return new Query(this._query.skip(offset), this.collectionName, this.database);\r\n    };\r\n    Query.prototype.get = function (options) {\r\n        var _this = this;\r\n        var apiName = 'collection.get';\r\n        return new Promise(function (resolve, reject) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\r\n            var queryResult, err_1;\r\n            return tslib_1.__generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 2, , 3]);\r\n                        return [4 /*yield*/, this._query.get()];\r\n                    case 1:\r\n                        queryResult = _a.sent();\r\n                        error_checker_1.checkError(queryResult);\r\n                        resolve({\r\n                            data: queryResult.data,\r\n                            errMsg: msg_1.apiSuccessMsg(apiName),\r\n                        });\r\n                        return [3 /*break*/, 3];\r\n                    case 2:\r\n                        err_1 = _a.sent();\r\n                        reject(error_1.returnAsFinalCloudSDKError(err_1, apiName));\r\n                        return [3 /*break*/, 3];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        }); });\r\n    };\r\n    Query.prototype.update = function (options) {\r\n        var _this = this;\r\n        var apiName = 'collection.update';\r\n        return new Promise(function (resolve, reject) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\r\n            var updateResult, err_2;\r\n            return tslib_1.__generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 2, , 3]);\r\n                        assert_1.assertType(options, {\r\n                            data: 'object',\r\n                        });\r\n                        assert_1.assertObjectNotEmpty({\r\n                            name: 'options.data',\r\n                            target: options.data,\r\n                        });\r\n                        return [4 /*yield*/, this._query.update(options.data)];\r\n                    case 1:\r\n                        updateResult = _a.sent();\r\n                        error_checker_1.checkError(updateResult);\r\n                        resolve({\r\n                            stats: {\r\n                                updated: updateResult.updated || 0,\r\n                            },\r\n                            errMsg: msg_1.apiSuccessMsg(apiName),\r\n                        });\r\n                        return [3 /*break*/, 3];\r\n                    case 2:\r\n                        err_2 = _a.sent();\r\n                        reject(error_1.returnAsFinalCloudSDKError(err_2, apiName));\r\n                        return [3 /*break*/, 3];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        }); });\r\n    };\r\n    Query.prototype.remove = function (options) {\r\n        var _this = this;\r\n        var apiName = 'collection.remove';\r\n        return new Promise(function (resolve, reject) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\r\n            var removeResult, err_3;\r\n            return tslib_1.__generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 2, , 3]);\r\n                        return [4 /*yield*/, this._query.remove()];\r\n                    case 1:\r\n                        removeResult = _a.sent();\r\n                        error_checker_1.checkError(removeResult);\r\n                        resolve({\r\n                            stats: {\r\n                                removed: removeResult.removed,\r\n                            },\r\n                            errMsg: msg_1.apiSuccessMsg(apiName),\r\n                        });\r\n                        return [3 /*break*/, 3];\r\n                    case 2:\r\n                        err_3 = _a.sent();\r\n                        reject(error_1.returnAsFinalCloudSDKError(err_3, apiName));\r\n                        return [3 /*break*/, 3];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        }); });\r\n    };\r\n    Query.prototype.count = function (options) {\r\n        var _this = this;\r\n        var apiName = 'collection.count';\r\n        return new Promise(function (resolve, reject) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\r\n            var queryResult, err_4;\r\n            return tslib_1.__generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 2, , 3]);\r\n                        return [4 /*yield*/, this._query.count()];\r\n                    case 1:\r\n                        queryResult = _a.sent();\r\n                        error_checker_1.checkError(queryResult);\r\n                        resolve({\r\n                            total: queryResult.total,\r\n                            errMsg: msg_1.apiSuccessMsg(apiName),\r\n                        });\r\n                        return [3 /*break*/, 3];\r\n                    case 2:\r\n                        err_4 = _a.sent();\r\n                        reject(error_1.returnAsFinalCloudSDKError(err_4, apiName));\r\n                        return [3 /*break*/, 3];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        }); });\r\n    };\r\n    return Query;\r\n}());\r\nexports.Query = Query;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/database/index.ts\":\r\n/*!***********************************!*\\\r\n  !*** ./src/api/database/index.ts ***!\r\n  \\***********************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar cloud_1 = __webpack_require__(/*! ../cloud */ \"./src/api/cloud/index.ts\");\r\nvar api_1 = __webpack_require__(/*! ./api/api */ \"./src/api/database/api/api.ts\");\r\nexports.DATABASE_SERVICE_NAME = 'database';\r\nfunction createDatabaseService() {\r\n    return {\r\n        name: exports.DATABASE_SERVICE_NAME,\r\n        getAPIs: api_1.getAPIs,\r\n    };\r\n}\r\nfunction registerService(cloud) {\r\n    cloud.registerService(createDatabaseService());\r\n}\r\nexports.registerService = registerService;\r\nregisterService(cloud_1.default);\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/functions/api/api.ts\":\r\n/*!**************************************!*\\\r\n  !*** ./src/api/functions/api/api.ts ***!\r\n  \\**************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar callFunction_1 = __webpack_require__(/*! ./callFunction */ \"./src/api/functions/api/callFunction.ts\");\r\nfunction getAPIs() {\r\n    return {\r\n        callFunction: callFunction_1.default,\r\n    };\r\n}\r\nexports.getAPIs = getAPIs;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/functions/api/callFunction.ts\":\r\n/*!***********************************************!*\\\r\n  !*** ./src/api/functions/api/callFunction.ts ***!\r\n  \\***********************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(/*! tslib */ \"tslib\");\r\nvar assert_1 = __webpack_require__(/*! utils/assert */ \"./src/utils/assert.ts\");\r\nvar error_1 = __webpack_require__(/*! utils/error */ \"./src/utils/error.ts\");\r\nvar cloud_1 = __webpack_require__(/*! ../../cloud */ \"./src/api/cloud/index.ts\");\r\nvar __1 = __webpack_require__(/*! .. */ \"./src/api/functions/index.ts\");\r\nvar msg_1 = __webpack_require__(/*! utils/msg */ \"./src/utils/msg.ts\");\r\nfunction callFunction(options) {\r\n    var _this = this;\r\n    var apiName = 'callFunction';\r\n    return new Promise(function (resolve, reject) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\r\n        var result, parsedResult, e_1, error;\r\n        return tslib_1.__generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (!options) {\r\n                        return [2 /*return*/, reject(error_1.returnAsFinalCloudSDKError({\r\n                                errMsg: 'Params for callFunction must be an object instead of ' + typeof options,\r\n                            }, apiName))];\r\n                    }\r\n                    try {\r\n                        assert_1.assertType(options, {\r\n                            name: 'string'\r\n                        });\r\n                        if (options.hasOwnProperty('data')) {\r\n                            assert_1.assertType(options, {\r\n                                data: 'object'\r\n                            });\r\n                        }\r\n                    }\r\n                    catch (e) {\r\n                        return [2 /*return*/, reject(error_1.returnAsFinalCloudSDKError(e, apiName))];\r\n                    }\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, 3, , 4]);\r\n                    return [4 /*yield*/, cloud_1.default.provider.api.callFunction({\r\n                            name: options.name,\r\n                            data: options.data || {},\r\n                        }, cloud_1.default.getOverriddenConfig(options.config || {}, __1.FUNCTIONS_SERVICE_NAME))];\r\n                case 2:\r\n                    result = _a.sent();\r\n                    parsedResult = result.result;\r\n                    try {\r\n                        if (typeof parsedResult === 'string') {\r\n                            parsedResult = JSON.parse(result.result);\r\n                        }\r\n                    }\r\n                    catch (_) {\r\n                        // no nothing\r\n                    }\r\n                    return [2 /*return*/, resolve({\r\n                            result: parsedResult,\r\n                            errMsg: msg_1.apiSuccessMsg(apiName),\r\n                            requestID: result.requestId,\r\n                        })];\r\n                case 3:\r\n                    e_1 = _a.sent();\r\n                    error = error_1.returnAsFinalCloudSDKError(e_1, apiName);\r\n                    // @ts-ignore\r\n                    error.requestID = e_1.requestID;\r\n                    return [2 /*return*/, reject(error)];\r\n                case 4: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); });\r\n}\r\nexports.default = callFunction;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/functions/index.ts\":\r\n/*!************************************!*\\\r\n  !*** ./src/api/functions/index.ts ***!\r\n  \\************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar cloud_1 = __webpack_require__(/*! ../cloud */ \"./src/api/cloud/index.ts\");\r\nvar api_1 = __webpack_require__(/*! ./api/api */ \"./src/api/functions/api/api.ts\");\r\nexports.FUNCTIONS_SERVICE_NAME = 'functions';\r\nfunction createFunctionsService() {\r\n    return {\r\n        name: exports.FUNCTIONS_SERVICE_NAME,\r\n        getAPIs: api_1.getAPIs,\r\n    };\r\n}\r\nfunction registerService(cl) {\r\n    cl.registerService(createFunctionsService());\r\n}\r\nexports.registerService = registerService;\r\nregisterService(cloud_1.default);\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/index.ts\":\r\n/*!**************************!*\\\r\n  !*** ./src/api/index.ts ***!\r\n  \\**************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar cloud_1 = __webpack_require__(/*! ./cloud */ \"./src/api/cloud/index.ts\");\r\n// import api\r\n__webpack_require__(/*! ./database */ \"./src/api/database/index.ts\");\r\n__webpack_require__(/*! ./storage */ \"./src/api/storage/index.ts\");\r\n__webpack_require__(/*! ./functions */ \"./src/api/functions/index.ts\");\r\n__webpack_require__(/*! ./open */ \"./src/api/open/index.ts\");\r\n__webpack_require__(/*! ./utils */ \"./src/api/utils/index.ts\");\r\nmodule.exports = cloud_1.default.exportAPI;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/open/api/api.ts\":\r\n/*!*********************************!*\\\r\n  !*** ./src/api/open/api/api.ts ***!\r\n  \\*********************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar callOpenAPI_1 = __webpack_require__(/*! ./callOpenAPI */ \"./src/api/open/api/callOpenAPI.ts\");\r\nvar callWXInnerAPI_1 = __webpack_require__(/*! ./callWXInnerAPI */ \"./src/api/open/api/callWXInnerAPI.ts\");\r\nvar callWXSvrkit_1 = __webpack_require__(/*! ./callWXSvrkit */ \"./src/api/open/api/callWXSvrkit.ts\");\r\nfunction getAPIs() {\r\n    return {\r\n        callOpenAPI: callOpenAPI_1.default,\r\n        callWXInnerAPI: callWXInnerAPI_1.default,\r\n        callWXSvrkit: callWXSvrkit_1.default,\r\n    };\r\n}\r\nexports.getAPIs = getAPIs;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/open/api/callOpenAPI.ts\":\r\n/*!*****************************************!*\\\r\n  !*** ./src/api/open/api/callOpenAPI.ts ***!\r\n  \\*****************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(/*! tslib */ \"tslib\");\r\nvar assert_1 = __webpack_require__(/*! utils/assert */ \"./src/utils/assert.ts\");\r\nvar error_1 = __webpack_require__(/*! utils/error */ \"./src/utils/error.ts\");\r\nvar cloud_1 = __webpack_require__(/*! ../../cloud */ \"./src/api/cloud/index.ts\");\r\nvar msg_1 = __webpack_require__(/*! utils/msg */ \"./src/utils/msg.ts\");\r\nfunction callOpenAPI(options) {\r\n    var _this = this;\r\n    var apiName = 'callOpenAPI';\r\n    return new Promise(function (resolve, reject) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\r\n        var result, parsedResult, e_1, error;\r\n        return tslib_1.__generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (!options) {\r\n                        return [2 /*return*/, reject(error_1.returnAsFinalCloudSDKError({\r\n                                errMsg: 'Params for callOpenAPI must be an object instead of ' + typeof options,\r\n                            }, apiName))];\r\n                    }\r\n                    try {\r\n                        assert_1.assertType(options, {\r\n                            api: 'string'\r\n                        });\r\n                        if (options.data) {\r\n                            assert_1.assertType(options, {\r\n                                data: 'object'\r\n                            });\r\n                        }\r\n                    }\r\n                    catch (e) {\r\n                        return [2 /*return*/, reject(error_1.returnAsFinalCloudSDKError(e, apiName))];\r\n                    }\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, 3, , 4]);\r\n                    return [4 /*yield*/, cloud_1.default.provider.api.callOpenAPI({\r\n                            api: options.api,\r\n                            data: options.data || {},\r\n                        }, options.config || {})];\r\n                case 2:\r\n                    result = _a.sent();\r\n                    parsedResult = result.result;\r\n                    try {\r\n                        if (typeof parsedResult === 'string') {\r\n                            parsedResult = JSON.parse(result.result);\r\n                        }\r\n                    }\r\n                    catch (_) {\r\n                        // no nothing\r\n                    }\r\n                    return [2 /*return*/, resolve({\r\n                            result: parsedResult,\r\n                            errMsg: msg_1.apiSuccessMsg(apiName),\r\n                        })];\r\n                case 3:\r\n                    e_1 = _a.sent();\r\n                    error = error_1.returnAsFinalCloudSDKError(e_1, apiName);\r\n                    return [2 /*return*/, reject(error)];\r\n                case 4: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); });\r\n}\r\nexports.default = callOpenAPI;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/open/api/callWXInnerAPI.ts\":\r\n/*!********************************************!*\\\r\n  !*** ./src/api/open/api/callWXInnerAPI.ts ***!\r\n  \\********************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(/*! tslib */ \"tslib\");\r\nvar assert_1 = __webpack_require__(/*! utils/assert */ \"./src/utils/assert.ts\");\r\nvar error_1 = __webpack_require__(/*! utils/error */ \"./src/utils/error.ts\");\r\nvar cloud_1 = __webpack_require__(/*! ../../cloud */ \"./src/api/cloud/index.ts\");\r\nvar msg_1 = __webpack_require__(/*! utils/msg */ \"./src/utils/msg.ts\");\r\nfunction callWXInnerAPI(options) {\r\n    var _this = this;\r\n    var apiName = 'callWXInnerAPI';\r\n    return new Promise(function (resolve, reject) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\r\n        var result, parsedResult, e_1, error;\r\n        return tslib_1.__generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (!options) {\r\n                        return [2 /*return*/, reject(error_1.returnAsFinalCloudSDKError({\r\n                                errMsg: 'Params for callWXInnerAPI must be an object instead of ' + typeof options,\r\n                            }, apiName))];\r\n                    }\r\n                    try {\r\n                        assert_1.assertType(options, {\r\n                            cmdid: 'number'\r\n                        });\r\n                    }\r\n                    catch (e) {\r\n                        return [2 /*return*/, reject(error_1.returnAsFinalCloudSDKError(e, apiName))];\r\n                    }\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, 3, , 4]);\r\n                    return [4 /*yield*/, cloud_1.default.provider.api.callOpenAPI({\r\n                            api: '/inner/wxtransfer',\r\n                            data: {\r\n                                cmdid: options.cmdid,\r\n                                req_data: JSON.stringify(options.data || {}),\r\n                            },\r\n                        }, options.config || {})];\r\n                case 2:\r\n                    result = _a.sent();\r\n                    parsedResult = result.result;\r\n                    try {\r\n                        if (typeof parsedResult === 'string') {\r\n                            parsedResult = JSON.parse(result.result);\r\n                        }\r\n                    }\r\n                    catch (_) {\r\n                        // no nothing\r\n                    }\r\n                    return [2 /*return*/, resolve({\r\n                            result: parsedResult,\r\n                            errMsg: msg_1.apiSuccessMsg(apiName),\r\n                        })];\r\n                case 3:\r\n                    e_1 = _a.sent();\r\n                    error = error_1.returnAsFinalCloudSDKError(e_1, apiName);\r\n                    return [2 /*return*/, reject(error)];\r\n                case 4: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); });\r\n}\r\nexports.default = callWXInnerAPI;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/open/api/callWXSvrkit.ts\":\r\n/*!******************************************!*\\\r\n  !*** ./src/api/open/api/callWXSvrkit.ts ***!\r\n  \\******************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(/*! tslib */ \"tslib\");\r\nvar assert_1 = __webpack_require__(/*! utils/assert */ \"./src/utils/assert.ts\");\r\nvar error_1 = __webpack_require__(/*! utils/error */ \"./src/utils/error.ts\");\r\nvar cloud_1 = __webpack_require__(/*! ../../cloud */ \"./src/api/cloud/index.ts\");\r\nvar msg_1 = __webpack_require__(/*! utils/msg */ \"./src/utils/msg.ts\");\r\nfunction callWXSvrkit(options) {\r\n    var _this = this;\r\n    var apiName = 'callWXSvrkit';\r\n    return new Promise(function (resolve, reject) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\r\n        var result, parsedResult, e_1, error;\r\n        return tslib_1.__generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (!options) {\r\n                        return [2 /*return*/, reject(error_1.returnAsFinalCloudSDKError({\r\n                                errMsg: 'Params for callWXSvrkit must be an object instead of ' + typeof options,\r\n                            }, apiName))];\r\n                    }\r\n                    try {\r\n                        assert_1.assertType(options, {\r\n                            serviceName: 'string',\r\n                            funcName: 'string',\r\n                            magic: 'number',\r\n                            cmdid: 'number',\r\n                        });\r\n                    }\r\n                    catch (e) {\r\n                        return [2 /*return*/, reject(error_1.returnAsFinalCloudSDKError(e, apiName))];\r\n                    }\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, 3, , 4]);\r\n                    return [4 /*yield*/, cloud_1.default.provider.api.callOpenAPI({\r\n                            api: '/inner/svrkitclientcall',\r\n                            data: {\r\n                                req_body_buffer: options.reqBodyBuffer.toString('base64'),\r\n                                service_name: options.serviceName,\r\n                                func_name: options.funcName,\r\n                                magic: options.magic,\r\n                                cmdid: options.cmdid,\r\n                                exist_resp: options.existResp,\r\n                            },\r\n                        }, options.config || {})];\r\n                case 2:\r\n                    result = _a.sent();\r\n                    console.log(result);\r\n                    parsedResult = result.result;\r\n                    try {\r\n                        if (typeof parsedResult === 'string') {\r\n                            // let parsedResult: {\r\n                            //   ret: number // clientcall ret code\r\n                            //   result: number // biz logic ret code\r\n                            //   resp_body_buffer: string // biz logic resp\r\n                            //   respBodyBuffer?: Buffer // Buffer converted from resp_body_buffer\r\n                            //  }\r\n                            parsedResult = JSON.parse(result.result);\r\n                        }\r\n                    }\r\n                    catch (_) {\r\n                        // no nothing\r\n                    }\r\n                    try {\r\n                        if (parsedResult.ret === 0) {\r\n                            parsedResult.respBodyBuffer = Buffer.from(parsedResult.resp_body_buffer, 'base64');\r\n                            delete parsedResult.resp_body_buffer;\r\n                        }\r\n                    }\r\n                    catch (_) {\r\n                        // no nothing\r\n                    }\r\n                    return [2 /*return*/, resolve({\r\n                            ret: parsedResult.ret,\r\n                            result: parsedResult.result,\r\n                            respBodyBuffer: parsedResult.respBodyBuffer,\r\n                            errMsg: msg_1.apiSuccessMsg(apiName),\r\n                        })];\r\n                case 3:\r\n                    e_1 = _a.sent();\r\n                    error = error_1.returnAsFinalCloudSDKError(e_1, apiName);\r\n                    return [2 /*return*/, reject(error)];\r\n                case 4: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); });\r\n}\r\nexports.default = callWXSvrkit;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/open/index.ts\":\r\n/*!*******************************!*\\\r\n  !*** ./src/api/open/index.ts ***!\r\n  \\*******************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar cloud_1 = __webpack_require__(/*! ../cloud */ \"./src/api/cloud/index.ts\");\r\nvar api_1 = __webpack_require__(/*! ./api/api */ \"./src/api/open/api/api.ts\");\r\nvar OPEN_SERVICE_NAME = 'open';\r\nfunction createFunctionsService() {\r\n    return {\r\n        name: OPEN_SERVICE_NAME,\r\n        getAPIs: api_1.getAPIs,\r\n    };\r\n}\r\nfunction registerService(cl) {\r\n    cl.registerService(createFunctionsService());\r\n}\r\nexports.registerService = registerService;\r\nregisterService(cloud_1.default);\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/storage/api/api.ts\":\r\n/*!************************************!*\\\r\n  !*** ./src/api/storage/api/api.ts ***!\r\n  \\************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar uploadFile_1 = __webpack_require__(/*! ./uploadFile */ \"./src/api/storage/api/uploadFile.ts\");\r\nvar downloadFile_1 = __webpack_require__(/*! ./downloadFile */ \"./src/api/storage/api/downloadFile.ts\");\r\nvar getTempFileURL_1 = __webpack_require__(/*! ./getTempFileURL */ \"./src/api/storage/api/getTempFileURL.ts\");\r\nvar deleteFile_1 = __webpack_require__(/*! ./deleteFile */ \"./src/api/storage/api/deleteFile.ts\");\r\nfunction getAPIs() {\r\n    return {\r\n        uploadFile: uploadFile_1.default,\r\n        downloadFile: downloadFile_1.default,\r\n        getTempFileURL: getTempFileURL_1.default,\r\n        deleteFile: deleteFile_1.default,\r\n    };\r\n}\r\nexports.getAPIs = getAPIs;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/storage/api/deleteFile.ts\":\r\n/*!*******************************************!*\\\r\n  !*** ./src/api/storage/api/deleteFile.ts ***!\r\n  \\*******************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(/*! tslib */ \"tslib\");\r\nvar assert_1 = __webpack_require__(/*! utils/assert */ \"./src/utils/assert.ts\");\r\nvar error_1 = __webpack_require__(/*! utils/error */ \"./src/utils/error.ts\");\r\nvar cloud_1 = __webpack_require__(/*! ../../cloud */ \"./src/api/cloud/index.ts\");\r\nvar __1 = __webpack_require__(/*! .. */ \"./src/api/storage/index.ts\");\r\nvar msg_1 = __webpack_require__(/*! utils/msg */ \"./src/utils/msg.ts\");\r\nfunction deleteFile(options) {\r\n    var _this = this;\r\n    var apiName = 'deleteFile';\r\n    return new Promise(function (resolve, reject) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\r\n        var result, e_1;\r\n        return tslib_1.__generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (!options) {\r\n                        return [2 /*return*/, reject(error_1.returnAsFinalCloudSDKError({\r\n                                errMsg: 'Params for deleteFile must be an object instead of ' + typeof options,\r\n                            }, apiName))];\r\n                    }\r\n                    try {\r\n                        assert_1.assertType(options, {\r\n                            fileList: 'array'\r\n                        });\r\n                        options.fileList.forEach(function (f, i) {\r\n                            if (typeof f !== 'string') {\r\n                                throw new Error(\"Type of fileList[\" + i + \"] must be string instead of \" + typeof f);\r\n                            }\r\n                        });\r\n                    }\r\n                    catch (e) {\r\n                        return [2 /*return*/, reject(error_1.returnAsFinalCloudSDKError(e, apiName))];\r\n                    }\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, 3, , 4]);\r\n                    return [4 /*yield*/, cloud_1.default.provider.api.deleteFile({\r\n                            fileList: options.fileList\r\n                        }, cloud_1.default.getOverriddenConfig(options.config || {}, __1.STORAGE_SERVICE_NAME))];\r\n                case 2:\r\n                    result = _a.sent();\r\n                    return [2 /*return*/, resolve({\r\n                            fileList: result.fileList,\r\n                            errMsg: msg_1.apiSuccessMsg(apiName),\r\n                        })];\r\n                case 3:\r\n                    e_1 = _a.sent();\r\n                    return [2 /*return*/, reject(error_1.returnAsFinalCloudSDKError(e_1, apiName))];\r\n                case 4: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); });\r\n}\r\nexports.default = deleteFile;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/storage/api/downloadFile.ts\":\r\n/*!*********************************************!*\\\r\n  !*** ./src/api/storage/api/downloadFile.ts ***!\r\n  \\*********************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(/*! tslib */ \"tslib\");\r\nvar assert_1 = __webpack_require__(/*! utils/assert */ \"./src/utils/assert.ts\");\r\nvar error_1 = __webpack_require__(/*! utils/error */ \"./src/utils/error.ts\");\r\nvar cloud_1 = __webpack_require__(/*! ../../cloud */ \"./src/api/cloud/index.ts\");\r\nvar __1 = __webpack_require__(/*! .. */ \"./src/api/storage/index.ts\");\r\nvar msg_1 = __webpack_require__(/*! utils/msg */ \"./src/utils/msg.ts\");\r\nfunction downloadFile(options) {\r\n    var _this = this;\r\n    var apiName = 'downloadFile';\r\n    return new Promise(function (resolve, reject) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\r\n        var result, e_1;\r\n        return tslib_1.__generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (!options) {\r\n                        return [2 /*return*/, reject(error_1.returnAsFinalCloudSDKError({\r\n                                errMsg: 'Params for downloadFile must be an object instead of ' + typeof options,\r\n                            }, apiName))];\r\n                    }\r\n                    try {\r\n                        assert_1.assertType(options, {\r\n                            fileID: 'string',\r\n                        });\r\n                    }\r\n                    catch (e) {\r\n                        return [2 /*return*/, reject(error_1.returnAsFinalCloudSDKError(e, apiName))];\r\n                    }\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, 3, , 4]);\r\n                    return [4 /*yield*/, cloud_1.default.provider.api.downloadFile({\r\n                            fileID: options.fileID,\r\n                        }, cloud_1.default.getOverriddenConfig(options.config || {}, __1.STORAGE_SERVICE_NAME))];\r\n                case 2:\r\n                    result = _a.sent();\r\n                    return [2 /*return*/, resolve({\r\n                            fileContent: result.fileContent,\r\n                            statusCode: result.statusCode,\r\n                            errMsg: msg_1.apiSuccessMsg(apiName),\r\n                        })];\r\n                case 3:\r\n                    e_1 = _a.sent();\r\n                    return [2 /*return*/, reject(error_1.returnAsFinalCloudSDKError(e_1, apiName))];\r\n                case 4: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); });\r\n}\r\nexports.default = downloadFile;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/storage/api/getTempFileURL.ts\":\r\n/*!***********************************************!*\\\r\n  !*** ./src/api/storage/api/getTempFileURL.ts ***!\r\n  \\***********************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(/*! tslib */ \"tslib\");\r\nvar assert_1 = __webpack_require__(/*! utils/assert */ \"./src/utils/assert.ts\");\r\nvar error_1 = __webpack_require__(/*! utils/error */ \"./src/utils/error.ts\");\r\nvar cloud_1 = __webpack_require__(/*! ../../cloud */ \"./src/api/cloud/index.ts\");\r\nvar __1 = __webpack_require__(/*! .. */ \"./src/api/storage/index.ts\");\r\nvar msg_1 = __webpack_require__(/*! utils/msg */ \"./src/utils/msg.ts\");\r\nfunction getTempFileURL(options) {\r\n    var _this = this;\r\n    var apiName = 'getTempFileURL';\r\n    return new Promise(function (resolve, reject) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\r\n        var result, e_1;\r\n        return tslib_1.__generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (!options) {\r\n                        return [2 /*return*/, reject(error_1.returnAsFinalCloudSDKError({\r\n                                errMsg: 'Params for getTempFileURL must be an object instead of ' + typeof options,\r\n                            }, apiName))];\r\n                    }\r\n                    try {\r\n                        assert_1.assertType(options, {\r\n                            fileList: 'array',\r\n                        });\r\n                        /*\r\n                        options.fileList.forEach((f, i) => {\r\n                          if (!f) {\r\n                            throw new Error(`Type of fileList[${i}] must be object instead of ${typeof f}`)\r\n                          }\r\n                          if (typeof f.maxAge !== 'number') {\r\n                            throw new Error(`Type of fileList[${i}].maxAge must be number instead of ${typeof f.maxAge}`)\r\n                          }\r\n                          if (typeof f.fileID !== 'string') {\r\n                            throw new Error(`Type of fileList[${i}].fileID must be string instead of ${typeof f.fileID}`)\r\n                          }\r\n                        })\r\n                        */\r\n                    }\r\n                    catch (e) {\r\n                        return [2 /*return*/, reject(error_1.returnAsFinalCloudSDKError(e, apiName))];\r\n                    }\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, 3, , 4]);\r\n                    return [4 /*yield*/, cloud_1.default.provider.api.getTempFileURL({\r\n                            fileList: options.fileList,\r\n                        }, cloud_1.default.getOverriddenConfig(options.config || {}, __1.STORAGE_SERVICE_NAME))];\r\n                case 2:\r\n                    result = _a.sent();\r\n                    return [2 /*return*/, resolve({\r\n                            fileList: result.fileList,\r\n                            errMsg: msg_1.apiSuccessMsg(apiName),\r\n                        })];\r\n                case 3:\r\n                    e_1 = _a.sent();\r\n                    return [2 /*return*/, reject(error_1.returnAsFinalCloudSDKError(e_1, apiName))];\r\n                case 4: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); });\r\n}\r\nexports.default = getTempFileURL;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/storage/api/uploadFile.ts\":\r\n/*!*******************************************!*\\\r\n  !*** ./src/api/storage/api/uploadFile.ts ***!\r\n  \\*******************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(/*! tslib */ \"tslib\");\r\nvar assert_1 = __webpack_require__(/*! utils/assert */ \"./src/utils/assert.ts\");\r\nvar error_1 = __webpack_require__(/*! utils/error */ \"./src/utils/error.ts\");\r\nvar cloud_1 = __webpack_require__(/*! ../../cloud */ \"./src/api/cloud/index.ts\");\r\nvar __1 = __webpack_require__(/*! .. */ \"./src/api/storage/index.ts\");\r\nvar msg_1 = __webpack_require__(/*! utils/msg */ \"./src/utils/msg.ts\");\r\nfunction uploadFile(options) {\r\n    var _this = this;\r\n    var apiName = 'uploadFile';\r\n    return new Promise(function (resolve, reject) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\r\n        var header, result, e_1;\r\n        return tslib_1.__generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (!options) {\r\n                        return [2 /*return*/, reject(error_1.returnAsFinalCloudSDKError({\r\n                                errMsg: 'Params for uploadFile must be an object instead of ' + typeof options,\r\n                            }, apiName))];\r\n                    }\r\n                    try {\r\n                        assert_1.assertType(options, {\r\n                            cloudPath: 'string',\r\n                        });\r\n                        if (!options.fileContent) {\r\n                            return [2 /*return*/, reject(error_1.returnAsFinalCloudSDKError(new Error('Type of fileContent must be fs.ReadStream instead of ' + typeof options.fileContent), apiName))];\r\n                        }\r\n                    }\r\n                    catch (e) {\r\n                        return [2 /*return*/, reject(error_1.returnAsFinalCloudSDKError(e, apiName))];\r\n                    }\r\n                    header = options.header || {};\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, 3, , 4]);\r\n                    return [4 /*yield*/, cloud_1.default.provider.api.uploadFile({\r\n                            fileContent: options.fileContent,\r\n                            cloudPath: options.cloudPath,\r\n                            header: header,\r\n                        }, cloud_1.default.getOverriddenConfig(options.config || {}, __1.STORAGE_SERVICE_NAME))];\r\n                case 2:\r\n                    result = _a.sent();\r\n                    return [2 /*return*/, resolve({\r\n                            fileID: result.fileID,\r\n                            statusCode: result.statusCode,\r\n                            errMsg: msg_1.apiSuccessMsg(apiName),\r\n                        })];\r\n                case 3:\r\n                    e_1 = _a.sent();\r\n                    return [2 /*return*/, reject(error_1.returnAsFinalCloudSDKError(e_1, apiName))];\r\n                case 4: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); });\r\n}\r\nexports.default = uploadFile;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/storage/index.ts\":\r\n/*!**********************************!*\\\r\n  !*** ./src/api/storage/index.ts ***!\r\n  \\**********************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar cloud_1 = __webpack_require__(/*! ../cloud */ \"./src/api/cloud/index.ts\");\r\nvar api_1 = __webpack_require__(/*! ./api/api */ \"./src/api/storage/api/api.ts\");\r\nexports.STORAGE_SERVICE_NAME = 'storage';\r\nfunction createStorageService() {\r\n    return {\r\n        name: exports.STORAGE_SERVICE_NAME,\r\n        getAPIs: api_1.getAPIs,\r\n    };\r\n}\r\nfunction registerService(cloud) {\r\n    cloud.registerService(createStorageService());\r\n}\r\nexports.registerService = registerService;\r\nregisterService(cloud_1.default);\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/utils/api/api.ts\":\r\n/*!**********************************!*\\\r\n  !*** ./src/api/utils/api/api.ts ***!\r\n  \\**********************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar getWXContext_1 = __webpack_require__(/*! ./getWXContext */ \"./src/api/utils/api/getWXContext.ts\");\r\nfunction getAPIs() {\r\n    return {\r\n        getWXContext: getWXContext_1.default,\r\n    };\r\n}\r\nexports.getAPIs = getAPIs;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/utils/api/getWXContext.ts\":\r\n/*!*******************************************!*\\\r\n  !*** ./src/api/utils/api/getWXContext.ts ***!\r\n  \\*******************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(/*! tslib */ \"tslib\");\r\nvar error_1 = __webpack_require__(/*! utils/error */ \"./src/utils/error.ts\");\r\nvar WX_PREFIX = 'WX_';\r\nvar CONTEXT_KEYS_BLACKLIST = [\r\n    'API_TOKEN',\r\n];\r\nfunction isContextKeyInBlacklist(key) {\r\n    return CONTEXT_KEYS_BLACKLIST.some(function (v) { return v === key || (WX_PREFIX + v) === key; });\r\n}\r\nexports.isContextKeyInBlacklist = isContextKeyInBlacklist;\r\nfunction isNumber(val) {\r\n    return /^[-]?\\d+$/.test(val);\r\n}\r\nexports.isNumber = isNumber;\r\nfunction getWXContext() {\r\n    var e_1, _a;\r\n    var apiName = 'getWXContext';\r\n    if (!process.env.WX_CONTEXT_KEYS)\r\n        return {};\r\n    try {\r\n        var contextKeys = process.env.WX_CONTEXT_KEYS.split(',');\r\n        var wxContext = {};\r\n        try {\r\n            for (var contextKeys_1 = tslib_1.__values(contextKeys), contextKeys_1_1 = contextKeys_1.next(); !contextKeys_1_1.done; contextKeys_1_1 = contextKeys_1.next()) {\r\n                var key = contextKeys_1_1.value;\r\n                if (!key)\r\n                    continue;\r\n                if (isContextKeyInBlacklist(key))\r\n                    continue;\r\n                var val = process.env[key];\r\n                if (val === undefined)\r\n                    continue;\r\n                if (isNumber(val)) {\r\n                    val = parseInt(val);\r\n                }\r\n                if (key.startsWith(WX_PREFIX) && key.length > 3) {\r\n                    wxContext[key.slice(3)] = val;\r\n                }\r\n                else {\r\n                    wxContext[key] = val;\r\n                }\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (contextKeys_1_1 && !contextKeys_1_1.done && (_a = contextKeys_1.return)) _a.call(contextKeys_1);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n        return wxContext;\r\n    }\r\n    catch (e) {\r\n        var error = error_1.returnAsFinalCloudSDKError(e, apiName);\r\n        throw error;\r\n    }\r\n}\r\nexports.default = getWXContext;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/api/utils/index.ts\":\r\n/*!********************************!*\\\r\n  !*** ./src/api/utils/index.ts ***!\r\n  \\********************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar cloud_1 = __webpack_require__(/*! ../cloud */ \"./src/api/cloud/index.ts\");\r\nvar api_1 = __webpack_require__(/*! ./api/api */ \"./src/api/utils/api/api.ts\");\r\nvar UTILS_SERVICE_NAME = 'utils';\r\nfunction createUtilsService() {\r\n    return {\r\n        name: UTILS_SERVICE_NAME,\r\n        getAPIs: api_1.getAPIs,\r\n    };\r\n}\r\nfunction registerService(cloud) {\r\n    cloud.registerService(createUtilsService());\r\n}\r\nexports.registerService = registerService;\r\nregisterService(cloud_1.default);\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/config/error.config.ts\":\r\n/*!************************************!*\\\r\n  !*** ./src/config/error.config.ts ***!\r\n  \\************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ERR_CODE = {\r\n    '-1': 'unknown error',\r\n    UNKNOWN_ERROR: -1,\r\n    // 以 6 开始的是由微信服务器侧产生的错误码\r\n    // 以 5 开始的是由腾讯云侧产生的错误码\r\n    // 以 4 开始的是本地 SDK 产生的错误\r\n    // 接下来两位表示具体业务类型：01通用，02数据库，03文件，04云函数\r\n    // 最后三位表示具体的错误\r\n    // 小程序 SDK 云函数\r\n    '-404001': 'empty call result',\r\n    SDK_FUNCTIONS_EMPTY_CALL_RESULT: -404001,\r\n    '-404002': 'empty event id',\r\n    SDK_FUNCTIONS_EMPTY_EVENT_ID: -404002,\r\n    '-404003': 'empty poll url',\r\n    SDK_FUNCTIONS_EMPTY_POLL_URL: -404003,\r\n    '-404004': 'empty poll result json',\r\n    SDK_FUNCTIONS_EMPTY_POLL_RESULT_JSON: -404004,\r\n    '-404005': 'exceed max poll retry',\r\n    SDK_FUNCTIONS_EXCEED_MAX_POLL_RETRY: -404005,\r\n    '-404006': 'empty poll result base resp',\r\n    SDK_FUNCTIONS_EMPTY_POLL_RESULT_BASE_RESP: -404006,\r\n    '-404007': 'error while polling for the result, poll result base resp ret %s',\r\n    SDK_FUNCTIONS_POLL_RESULT_BASE_RESP_RET_ABNORMAL: -404007,\r\n    '-404008': 'error while polling for the result, polling server return a status code of %s',\r\n    SDK_FUNCTIONS_POLL_RESULT_STATUS_CODE_ERROR: -404008,\r\n    '-404009': 'error while polling for the result: %s',\r\n    SDK_FUNCTIONS_POLL_ERROR: -404009,\r\n    // 微信服务器\r\n    '-601001': 'system error',\r\n    WX_SYSTEM_ERROR: -601001,\r\n    '-601002': 'system args error',\r\n    WX_SYSTEM_ARGS_ERROR: -601002,\r\n    '-601003': 'system network error',\r\n    WX_SYSTEM_NETWORK_ERROR: -601003,\r\n    // 腾讯云通用\r\n    '-501001': 'resource system error',\r\n    TCB_RESOURCE_SYSTEM_ERROR: -501001,\r\n    '-501002': 'resource server timeout',\r\n    TCB_RESOURCE_SERVER_TIMEOUT: -501002,\r\n    '-501003': 'exceed request limit',\r\n    TCB_EXCEED_REQUEST_LIMIT: -501003,\r\n    '-501004': 'exceed concurrent request limit',\r\n    TCB_EXCEED_CONCURRENT_REQUEST_LIMIT: -501004,\r\n    '-501005': 'invalid env',\r\n    TCB_INVALID_ENV: -501005,\r\n    '-501006': 'invalid common parameters',\r\n    TCB_INVALID_COMMON_PARAM: -501006,\r\n    '-501007': 'invalid parameters',\r\n    TCB_INVALID_PARAM: -501007,\r\n    '-501008': 'invalid request source',\r\n    TCB_INVALID_REQUEST_SOURCE: -501008,\r\n    '-501009': 'resource not initialized',\r\n    TCB_RESOURCE_NOT_INITIALIZED: -501009,\r\n    // 腾讯云数据库\r\n    '-502001': 'database request fail',\r\n    TCB_DB_REQUEST_FAIL: -502001,\r\n    '-502002': 'database invalid command',\r\n    TCB_DB_INVALID_COMMAND: -502002,\r\n    '-502003': 'database permission denied',\r\n    TCB_DB_PERMISSION_DENIED: -502003,\r\n    '-502004': 'database exceed collection limit',\r\n    TCB_DB_EXCEED_COLLECTION_LIMIT: -502004,\r\n    '-502005': 'database collection not exists',\r\n    TCB_DB_COLLECTION_NOT_EXISTS: -502005,\r\n    // 腾讯云文件管理\r\n    '-503001': 'storage request fail',\r\n    TCB_STORAGE_REQUEST_FAIL: -503001,\r\n    '-503002': 'storage permission denied',\r\n    TCB_STORAGE_PERMISSION_DENIED: -503002,\r\n    '-503003': 'storage file not exists',\r\n    TCB_STORAGE_FILE_NOT_EXISTS: -503003,\r\n    '-503004': 'storage invalid sign parameter',\r\n    TCB_STORAGE_INVALID_SIGN_PARAM: -503004,\r\n    // 腾讯云云函数\r\n    '-504001': 'functions request fail',\r\n    TCB_FUNCTIONS_REQUEST_FAIL: -504001,\r\n    '-504002': 'functions execute fail',\r\n    TCB_FUNCTIONS_EXEC_FAIL: -504002,\r\n};\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/index.ts\":\r\n/*!**********************!*\\\r\n  !*** ./src/index.ts ***!\r\n  \\**********************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nmodule.exports = __webpack_require__(/*! ./api/index */ \"./src/api/index.ts\");\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/utils/assert.ts\":\r\n/*!*****************************!*\\\r\n  !*** ./src/utils/assert.ts ***!\r\n  \\*****************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar type_1 = __webpack_require__(/*! ./type */ \"./src/utils/type.ts\");\r\nvar error_1 = __webpack_require__(/*! ./error */ \"./src/utils/error.ts\");\r\nvar error_config_1 = __webpack_require__(/*! config/error.config */ \"./src/config/error.config.ts\");\r\nfunction sameType(input, ref, name) {\r\n    function sameTypeImpl(input, ref, name) {\r\n        var inputType = type_1.getType(input);\r\n        var refType = type_1.getType(ref);\r\n        if (inputType !== refType) {\r\n            return name + \" should be \" + refType + \" instead of \" + inputType + \"; \";\r\n        }\r\n        var errors = '';\r\n        switch (inputType) {\r\n            case 'object': {\r\n                for (var key in ref) {\r\n                    errors += sameTypeImpl(input[key], ref[key], name + \".\" + key);\r\n                }\r\n                break;\r\n            }\r\n            case 'array': {\r\n                for (var i = 0; i < ref.length; i++) {\r\n                    errors += sameTypeImpl(input[i], ref[i], name + \"[\" + i + \"]\");\r\n                }\r\n                break;\r\n            }\r\n            default: {\r\n                break;\r\n            }\r\n        }\r\n        return errors;\r\n    }\r\n    var error = sameTypeImpl(input, ref, name);\r\n    return {\r\n        passed: !error,\r\n        reason: error,\r\n    };\r\n}\r\nexports.sameType = sameType;\r\nfunction validType(input, ref, name) {\r\n    if (name === void 0) { name = 'parameter'; }\r\n    function validTypeImpl(input, ref, name) {\r\n        var inputType = type_1.getType(input);\r\n        var refType = type_1.getType(ref);\r\n        if (refType === 'string') {\r\n            if (inputType !== ref) {\r\n                return name + \" should be \" + ref + \" instead of \" + inputType + \";\";\r\n            }\r\n            return '';\r\n        }\r\n        else {\r\n            if (inputType !== refType) {\r\n                return name + \" should be \" + refType + \" instead of \" + inputType + \"; \";\r\n            }\r\n            var errors = '';\r\n            switch (inputType) {\r\n                case 'object': {\r\n                    for (var key in ref) {\r\n                        errors += validTypeImpl(input[key], ref[key], name + \".\" + key);\r\n                    }\r\n                    break;\r\n                }\r\n                case 'array': {\r\n                    for (var i = 0; i < ref.length; i++) {\r\n                        errors += validTypeImpl(input[i], ref[i], name + \"[\" + i + \"]\");\r\n                    }\r\n                    break;\r\n                }\r\n                default: {\r\n                    break;\r\n                }\r\n            }\r\n            return errors;\r\n        }\r\n    }\r\n    var error = validTypeImpl(input, ref, name);\r\n    return {\r\n        passed: !error,\r\n        reason: error,\r\n    };\r\n}\r\nexports.validType = validType;\r\nfunction validObjectOptionalType(input, ref, name) {\r\n    if (name === void 0) { name = 'parameter'; }\r\n    function validImpl(input, ref, name) {\r\n        var inputType = type_1.getType(input);\r\n        var refType = type_1.getType(ref);\r\n        if (refType !== 'object')\r\n            return '';\r\n        if (inputType === 'object') {\r\n            for (var key in input) {\r\n                var val = input[key];\r\n                if (val === undefined || key === null) {\r\n                    continue;\r\n                }\r\n                var assertResult = validType(val, ref[key], name + \".\" + key);\r\n                return assertResult.passed ? '' : assertResult.reason;\r\n            }\r\n        }\r\n        else {\r\n            return name + \" should be object instead of \" + inputType;\r\n        }\r\n        return '';\r\n    }\r\n    var error = validImpl(input, ref, name);\r\n    return {\r\n        passed: !error,\r\n        reason: error,\r\n    };\r\n}\r\nexports.validObjectOptionalType = validObjectOptionalType;\r\nfunction assertType(param, ref, name, ErrorClass) {\r\n    if (name === void 0) { name = 'parameter'; }\r\n    if (ErrorClass === void 0) { ErrorClass = error_1.CloudSDKError; }\r\n    // check param validity\r\n    var paramCheckResult = validType(param, ref, name);\r\n    if (!paramCheckResult.passed) {\r\n        throw new ErrorClass({\r\n            errMsg: paramCheckResult.reason,\r\n        });\r\n    }\r\n}\r\nexports.assertType = assertType;\r\nfunction assertObjectOptionalType(param, ref, name, ErrorClass) {\r\n    if (name === void 0) { name = 'parameter'; }\r\n    if (ErrorClass === void 0) { ErrorClass = error_1.CloudSDKError; }\r\n    // check param validity\r\n    var paramCheckResult = validObjectOptionalType(param, ref, name);\r\n    if (!paramCheckResult.passed) {\r\n        throw new ErrorClass({\r\n            errMsg: paramCheckResult.reason,\r\n        });\r\n    }\r\n}\r\nexports.assertObjectOptionalType = assertObjectOptionalType;\r\nfunction assertRequiredParam(param, name, funcName, ErrorClass) {\r\n    if (ErrorClass === void 0) { ErrorClass = error_1.CloudSDKError; }\r\n    if (param === undefined || param === null) {\r\n        throw new ErrorClass({\r\n            errMsg: \"parameter \" + name + \" of function \" + funcName + \" must be provided\",\r\n        });\r\n    }\r\n}\r\nexports.assertRequiredParam = assertRequiredParam;\r\nfunction assertObjectNotEmpty(_a) {\r\n    var target = _a.target, name = _a.name, _b = _a.ErrorClass, ErrorClass = _b === void 0 ? error_1.CloudSDKError : _b;\r\n    if (Object.keys(target).length === 0) {\r\n        throw new ErrorClass({\r\n            errCode: error_config_1.ERR_CODE.SDK_API_PARAMETER_ERROR,\r\n            errMsg: name + \" must not be empty\"\r\n        });\r\n    }\r\n}\r\nexports.assertObjectNotEmpty = assertObjectNotEmpty;\r\n/*\r\nexport function constructTypeRef(typeDef: any): any {\r\n\r\n  const type = getType(typeDef)\r\n\r\n  switch(type) {\r\n    case 'string': {\r\n      return ''\r\n    }\r\n    case 'number': {\r\n\r\n    }\r\n  }\r\n\r\n}\r\n*/ \r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/utils/error.ts\":\r\n/*!****************************!*\\\r\n  !*** ./src/utils/error.ts ***!\r\n  \\****************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(/*! tslib */ \"tslib\");\r\nvar type_1 = __webpack_require__(/*! ./type */ \"./src/utils/type.ts\");\r\nvar msg_1 = __webpack_require__(/*! ./msg */ \"./src/utils/msg.ts\");\r\nvar error_config_1 = __webpack_require__(/*! config/error.config */ \"./src/config/error.config.ts\");\r\nvar CloudSDKError = /** @class */ (function (_super) {\r\n    tslib_1.__extends(CloudSDKError, _super);\r\n    function CloudSDKError(options) {\r\n        var _this = _super.call(this, options.errMsg) || this;\r\n        _this.errCode = -1;\r\n        Object.defineProperties(_this, {\r\n            message: {\r\n                get: function () {\r\n                    return \"errCode: \" + this.errCode + \" \" + (error_config_1.ERR_CODE[this.errCode] || '') + \" | errMsg: \" + this.errMsg;\r\n                },\r\n                set: function (msg) {\r\n                    this.errMsg = msg;\r\n                }\r\n            }\r\n        });\r\n        _this.errCode = options.errCode || -1;\r\n        _this.errMsg = options.errMsg;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(CloudSDKError.prototype, \"message\", {\r\n        get: function () {\r\n            return \"errCode: \" + this.errCode + \" | errMsg: \" + this.errMsg;\r\n        },\r\n        set: function (msg) {\r\n            this.errMsg = msg;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return CloudSDKError;\r\n}(Error));\r\nexports.CloudSDKError = CloudSDKError;\r\nfunction createError(_a) {\r\n    var _b = _a === void 0 ? {} : _a, _c = _b.errCode, errCode = _c === void 0 ? 1 : _c, _d = _b.errMsg, errMsg = _d === void 0 ? '' : _d, _e = _b.errClass, errClass = _e === void 0 ? CloudSDKError : _e;\r\n    return new errClass({\r\n        errCode: errCode,\r\n        errMsg: errMsg,\r\n    });\r\n}\r\nexports.createError = createError;\r\nfunction isSDKError(error) {\r\n    return error && (error instanceof Error) && type_1.isString(error.errMsg);\r\n}\r\nexports.isSDKError = isSDKError;\r\nfunction returnAsCloudSDKError(err, appendMsg) {\r\n    if (appendMsg === void 0) { appendMsg = ''; }\r\n    if (err) {\r\n        if (isSDKError(err)) {\r\n            if (appendMsg) {\r\n                err.errMsg += '; ' + appendMsg;\r\n            }\r\n            return err;\r\n        }\r\n        var errCode = err ? err.errCode : undefined;\r\n        var errMsg = (err && err.errMsg || err.toString() || 'unknown error') + '; ' + appendMsg;\r\n        return new CloudSDKError({\r\n            errCode: errCode,\r\n            errMsg: errMsg,\r\n        });\r\n    }\r\n    return new CloudSDKError({\r\n        errMsg: appendMsg\r\n    });\r\n}\r\nexports.returnAsCloudSDKError = returnAsCloudSDKError;\r\nfunction returnAsFinalCloudSDKError(err, apiName) {\r\n    if (err && isSDKError(err)) {\r\n        return err;\r\n    }\r\n    var e = returnAsCloudSDKError(err, \"at \" + apiName + \" api; \");\r\n    e.errMsg = msg_1.apiFailMsg(apiName, e.errMsg);\r\n    return e;\r\n}\r\nexports.returnAsFinalCloudSDKError = returnAsFinalCloudSDKError;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/utils/msg.ts\":\r\n/*!**************************!*\\\r\n  !*** ./src/utils/msg.ts ***!\r\n  \\**************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction apiSuccessMsg(apiName) {\r\n    return apiName + \":ok\";\r\n}\r\nexports.apiSuccessMsg = apiSuccessMsg;\r\nfunction apiCancelMsg(apiName, msg) {\r\n    return apiName + \":cancel \" + msg;\r\n}\r\nexports.apiCancelMsg = apiCancelMsg;\r\nfunction apiFailMsg(apiName, msg) {\r\n    return apiName + \":fail \" + msg;\r\n}\r\nexports.apiFailMsg = apiFailMsg;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/utils/symbol.ts\":\r\n/*!*****************************!*\\\r\n  !*** ./src/utils/symbol.ts ***!\r\n  \\*****************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = __webpack_require__(/*! tslib */ \"tslib\");\r\nvar _symbols = [];\r\nvar __internalMark__ = {};\r\nvar HiddenSymbol = /** @class */ (function () {\r\n    function HiddenSymbol(target) {\r\n        Object.defineProperties(this, {\r\n            target: {\r\n                enumerable: false,\r\n                writable: false,\r\n                configurable: false,\r\n                value: target,\r\n            },\r\n        });\r\n    }\r\n    return HiddenSymbol;\r\n}());\r\nvar InternalSymbol = /** @class */ (function (_super) {\r\n    tslib_1.__extends(InternalSymbol, _super);\r\n    function InternalSymbol(target, __mark__) {\r\n        var _this = this;\r\n        if (__mark__ !== __internalMark__) {\r\n            throw new TypeError('InternalSymbol cannot be constructed with new operator');\r\n        }\r\n        _this = _super.call(this, target) || this;\r\n        return _this;\r\n    }\r\n    InternalSymbol.for = function (target) {\r\n        for (var i = 0, len = _symbols.length; i < len; i++) {\r\n            if (_symbols[i].target === target) {\r\n                return _symbols[i].instance;\r\n            }\r\n        }\r\n        var symbol = new InternalSymbol(target, __internalMark__);\r\n        _symbols.push({\r\n            target: target,\r\n            instance: symbol,\r\n        });\r\n        return symbol;\r\n    };\r\n    return InternalSymbol;\r\n}(HiddenSymbol));\r\nexports.InternalSymbol = InternalSymbol;\r\nexports.default = InternalSymbol;\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/utils/type.ts\":\r\n/*!***************************!*\\\r\n  !*** ./src/utils/type.ts ***!\r\n  \\***************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar symbol_1 = __webpack_require__(/*! ./symbol */ \"./src/utils/symbol.ts\");\r\nexports.getType = function (x) { return Object.prototype.toString.call(x).slice(8, -1).toLowerCase(); };\r\nexports.isObject = function (x) { return exports.getType(x) === 'object'; };\r\nexports.isString = function (x) { return exports.getType(x) === 'string'; };\r\nexports.isNumber = function (x) { return exports.getType(x) === 'number'; };\r\nexports.isPromise = function (x) { return exports.getType(x) === 'promise'; };\r\nexports.isFunction = function (x) { return typeof x === 'function'; };\r\nexports.isArray = function (x) { return Array.isArray(x); };\r\nexports.isDate = function (x) { return exports.getType(x) === 'date'; };\r\nexports.isInternalObject = function (x) { return x && (x._internalType instanceof symbol_1.InternalSymbol); };\r\nexports.isPlainObject = function (obj) {\r\n    if (typeof obj !== 'object' || obj === null)\r\n        return false;\r\n    var proto = obj;\r\n    while (Object.getPrototypeOf(proto) !== null) {\r\n        proto = Object.getPrototypeOf(proto);\r\n    }\r\n    return Object.getPrototypeOf(obj) === proto;\r\n};\r\n\r\n\r\n/***/ }),\r\n\r\n/***/ \"tcb-admin-node\":\r\n/*!*********************************!*\\\r\n  !*** external \"tcb-admin-node\" ***!\r\n  \\*********************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = require(\"tcb-admin-node\");\r\n\r\n/***/ }),\r\n\r\n/***/ \"tcb-admin-node/src/utils/httpRequest\":\r\n/*!*******************************************************!*\\\r\n  !*** external \"tcb-admin-node/src/utils/httpRequest\" ***!\r\n  \\*******************************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = require(\"tcb-admin-node/src/utils/httpRequest\");\r\n\r\n/***/ }),\r\n\r\n/***/ \"tslib\":\r\n/*!************************!*\\\r\n  !*** external \"tslib\" ***!\r\n  \\************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = require(\"tslib\");\r\n\r\n/***/ })\r\n\r\n/******/ })));"]}